 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>MIT Science Bowl 2024</title>
    <script>
      function init() {
        document.getElementById("teamAscore").value = 0;
        document.getElementById("teamBscore").value = 0;

        halfTimer = document.getElementById("halfSeconds");
	halfTimer.value = 480;
        document.getElementById("halfSecondsDisp").value = secondsInMinutes(halfTimer.value);
        document.getElementById("questionSeconds").value = 0;

        halfTime = null; questionTime = null;

        buzzerSound = document.getElementById('wrongBuzzer_audio'); 

        logS = "mit science bowl 2024.<br> <br> Start of match.  Good luck teams!<br>";
        document.getElementById("log").innerHTML = logS;
	console.log(logS);
	window.scrollTo(0, 0);
      }

	function secondsInMinutes(secs) {
	  min = Math.floor(secs/60.0);
	  s = secs % 60;
	  if (s < 10) s = "0" + s;
	  disp = min + ":" + s;
	  return disp;
	}
	
      function addScore(team, amount) {
        var scoreElement = document.getElementById("team"+team+"score");
        scoreElement.value = parseInt(scoreElement.value) + parseInt(amount);

        logS = "Score for team " + team + " changed by " + amount + "<br>";
        document.getElementById("log").innerHTML += logS;
	console.log(logS);
	window.scrollTo(0, 0);
      }

      function decreaseHalfTimer() {
        halfTimer = document.getElementById("halfSeconds");
        if (parseInt(halfTimer.value) > 0)
          halfTimer.value = parseInt(halfTimer.value) - 1;

        if (parseInt(halfTimer.value) <= 0) {
          window.clearInterval(halfTime);
          buzzerSound.play();
	  document.getElementById("clockDiv").style.backgroundColor = "red";
        }

        document.getElementById("halfSecondsDisp").value = secondsInMinutes(halfTimer.value);
      }

      function minutesToSeconds(s) {
        A = s.split(":");
	secs = parseInt(A[0])*60 + parseInt(A[1]);
	return secs;
      }
      
      function startTimer() {
        if (halfTime != null)
          window.clearInterval(halfTime);
	document.getElementById("halfSeconds").value = minutesToSeconds(document.getElementById("halfSecondsDisp").value);
        halfTime = window.setInterval(decreaseHalfTimer,1000);
        document.getElementById("clockDiv").style.backgroundColor = "white";
      }

      function pauseTimer() {
        if (halfTime != null)
          window.clearInterval(halfTime);				   
      }

      function resetTimer() {
        if (halfTime != null) window.clearInterval(halfTime);
	document.getElementById("halfSeconds").value = "480";
        document.getElementById("halfSecondsDisp").value = secondsInMinutes(halfTimer.value);
        document.getElementById("clockDiv").style.backgroundColor = "white";
      }

					 

      function decreaseQtimer() {
        questionTimer = document.getElementById("questionSeconds");
        if (parseInt(questionTimer.value) > 0)
          questionTimer.value = parseInt(questionTimer.value) - 1;

	if (parseInt(questionTimer.value) <= 0) {
          window.clearInterval(questionTime);
          buzzerSound.play();
	  document.getElementById("clockDiv").style.backgroundColor = "red";
        }
      }
      
      function startTossup() {
        document.getElementById("questionSeconds").value = "5";
	if (questionTime != null)
          window.clearInterval(questionTime);					     
        questionTime = window.setInterval(decreaseQtimer,1000);
        document.getElementById("clockDiv").style.backgroundColor = "white";
      }

      function startBonus() {
        document.getElementById("questionSeconds").value = "20";
	if (questionTime != null)
          window.clearInterval(questionTime);					     
        questionTime = window.setInterval(decreaseQtimer,1000);
        document.getElementById("clockDiv").style.backgroundColor = "white";
      }

      function clearQtimer() {
        document.getElementById("questionSeconds").value = "0";
	if (questionTime != null)
          window.clearInterval(questionTime);
        document.getElementById("clockDiv").style.backgroundColor = "white";
      }
    </script>

<style>
  div, h1 {
    text-align:center;
  }
  h1 { font-size: 150%; }
  button {
    height: 100px;
    font-size: 120%;
  }
  button.add {
    background-color: #ccffcc;
  }
  button.remove {
    background-color: #ffcccc;
  }
  input {
    font-size: 600%;
    font-weight: bold;
  }
  button, input {
    vertical-align: middle;
  }
  div.team {
    float:left;
    border: solid black 2px;
    margin: 10px;
    padding: 10px;
  }
  div.clock {
    border: solid black 2px;
    margin: 10px;
    padding: 10px;
  }
</style>
  </head>

  <body onload='init();'>

    <div class="clock" id="clockDiv">
      <h1>Clock</h1>
      <div style="float:left; padding-right: 30px">
	<p style="text-align:left">Half timer (m:ss)</p>
	  <input type="hidden" id="halfSeconds" />
	  <input style="width:220px" type="text" id="halfSecondsDisp" class="timer"/>
	  <button type="button" onclick="startTimer();" id="startTimer">Start</button>
	  <button type="button" onclick="pauseTimer();" id="pauseTimer">Pause</button>
	  <button type="button" onclick="resetTimer();" id="resetTimer">Reset</button>
      </div>

      <div style="float:left">
	<p style="text-align:left">Question timer (seconds)</p>
	<input style="width:150px" type="text" id="questionSeconds" class="timer"/>
	<button type="button" onclick="startTossup();" id="startTossup">Tossup: 5s</button>
	<button type="button" onclick="startBonus();" id="startBonus">Bonus: 20s</button>
	<button type="button" onclick="clearQtimer();" id="clearQtimer">Clear</button>
      </div>

	<p style="clear:both"></p>
	  
    </div>

    <div style="text-align:center;margin:auto">
      
    <div class="team">
      <h1>Team A</h1>
      <div style="float:left;margin-right:20px"><p class="score"> <input style="width:200px" type="text" readonly id="teamAscore" class="score" value="0"/></p></div>
      <div style="float:left">
      <table>
	<tr>
	  <td>Add</td>
	  <td><button type="button" class="add" onclick="addScore('A',4);">Toss up: 4</button></td>
	  <td><button type="button" class="add" onclick="addScore('A',10);">Bonus: 10</button></td>
	</tr>
	<tr>
	  <td>Remove</td>
	  <td><button type="button" class="remove" onclick="addScore('A',-4);">Toss up: 4</button></td>
	  <td><button type="button" class="remove" onclick="addScore('A',-10);">Bonus: 10</button></td>
	</tr>
      </table>
      </div>
    </div>

    <div class="team">
      <h1>Team B</h1>
      <div style="float:left;margin-right:20px"><p class="score"> <input style="width:200px" type="text" readonly id="teamBscore" class="score" value="0"/></p></div>
      <div style="float:left">
      <table>
	<tr>
	  <td>Add</td>
	  <td><button type="button" class="add" onclick="addScore('B',4);">Toss up: 4</button></td>
	  <td><button type="button" class="add" onclick="addScore('B',10);">Bonus: 10</button></td>
	</tr>
	
	<tr>
	  <td>Remove</td>
	  <td><button type="button" class="remove" onclick="addScore('B',-4);">Toss up: 4</button></td>
	  <td><button type="button" class="remove" onclick="addScore('B',-10);">Bonus: 10</button></td>
	</tr>
      </table>
      </div>
    </div>

    </div>
    
	<p style="clear:both"> </p>
	<hr>

	  <h1>About this page</h1>
	  <p>This page is a simple webpage that science bowl teams can
	    use during practice.  It should be self-explanatory to
	    anyone who does science bowl or quiz bowl...</p>


	<p id="log">
	</p>
	
  </body>

</html>
